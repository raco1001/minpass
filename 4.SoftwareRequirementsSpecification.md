- **형식:** IEEE 830/29148 기반 (섹션 단위: 기능/비기능/인터페이스 등)
- **내용:**
  - 기능 요구사항 (Must/Should/Could/Won’t 분류)
  - 비기능 요구사항 (성능, 보안, 확장성, 가용성)
  - 시스템 인터페이스 (외부 API, 연동 포인트)
  - 데이터 요구사항 (수집·저장 범위, GDPR 고려사항)

# Software Requirements Specification (SRS)

**제품명(가칭):** AI 기반 개인 일정·생산성 관리 SaaS

**버전:** v0.1-draft

**작성일:** 2025-09-17

**작성자:** EA 아키텍트 팀

---

## 1. 소개 (Introduction)

### 1.1 목적 (Purpose)

본 문서는 개인 생산성 관리 SaaS의 요구 사항을 정의한다. 주요 목적은 사용자의 실제 활동 데이터(수면, 위치, 결제, 앱 사용 등)와 목표를 연결하여 자동화된 일정 관리 및 성장 피드백을 제공하는 것이다.

### 1.2 범위 (Scope)

- 모바일(Android/iOS) + 웹 대시보드
- LLM API 기반 자연어/음성 명령 처리
- 구글 캘린더/Task 연동
- 활동 로그 수집 및 브리지 세션(저녁 회고)
- 클라우드 기반 Supabase 스토리지/인증

### 1.3 용어 정의 (Definitions)

- **브리지 세션**: 하루 마감 시 AI가 질문하여 회고 및 피드백을 제공하는 기능
- **퀘스트**: 일정 단위의 실행 태스크(예: 45분 Deep Work)
- **활동 로그**: 수면, 위치, 앱 사용, 결제(메타) 이벤트 기록

---

## 2. 전반적 서술 (Overall Description)

### 2.1 사용자 유형 (User Classes)

- **주요 사용자**: 직장인, 활동적인 성인
- **확장 사용자**: 부모-자녀, 팀/조직

### 2.2 운영 환경 (Operating Environment)

- 모바일 앱: iOS/Android
- 웹 대시보드: React/Next.js 기반
- 백엔드: Node.js/NestJS + Supabase(Postgres, Auth, Storage)
- AI: OpenAI/Gemini API, RAG 아키텍처(python , flask)

### 2.3 제약조건 (Constraints)

- 클라우드 퍼스트 아키텍처
- MVP 개발 기간: 3~4개월
- Google Calendar/Tasks API 의존

---

## 3. 기능 요구사항 (Functional Requirements)

### 3.1 Must (필수)

| ID         | Contents                                    |
| ---------- | ------------------------------------------- |
| `FR-M-001` | 자연어/음성으로 일정 생성·조회·수정         |
| `FR-M-002` | Google Calendar/Task 양방향 동기화          |
| `FR-M-003` | 브리지 세션(질문·응답 저장·추천 반영)       |
| `FR-M-004` | 알림/푸시(일정 리마인드·퀘스트 미완료 알림) |
| `FR-M-005` | 활동 로그 수집(수면·위치·앱 사용·결제 메타) |
| `FR-M-006` | 웹 대시보드(일정/퀘스트 현황, 리포트)       |
| `FR-M-007` | 회원/인증(OAuth, 프로필/동의 관리)          |
| `FR-M-008` | 데이터 내보내기(JSON/CSV)                   |

### 3.2 Should (중요)

| ID         | Contents                                    |
| ---------- | ------------------------------------------- |
| `FR-S-001` | 일정 소요시간 예측·과부하 감지 및 대체 제안 |
| `FR-S-002` | 노션 연동(단방향 동기화)                    |
| `FR-S-003` | Deep Work 모드(집중 관리)                   |
| `FR-S-004` | 스마트 재스케줄(미완료 일정 자동 재배치)    |

### 3.3 Could (선택)

| ID         | Contents                  |
| ---------- | ------------------------- |
| `FR-C-001` | 부모-자녀 연동            |
| `FR-C-002` | 데스크톱 앱/브라우저 확장 |
| `FR-C-003` | 위젯/워치 연동            |

### 3.4 Won’t (MVP 제외)

| ID         | Contents                      |
| ---------- | ----------------------------- |
| `FR-W-001` | 팀 협업 워크플로              |
| `FR-W-002` | 웨어러블 의료데이터 심층 통합 |

---

## 4. 비기능 요구사항 (Non-Functional Requirements)

### 4.1 성능

| ID          | Contents                     |
| ----------- | ---------------------------- |
| `NFR-P-001` | API p95 응답시간 ≤ 400ms     |
| `NFR-P-002` | 동시접속 5k 시 오류율 < 0.5% |
| `NFR-P-003` | 캘린더 동기화 지연 ≤ 5초     |

### 4.2 가용성/신뢰성

| ID          | Contents                      |
| ----------- | ----------------------------- |
| `NFR-A-001` | 월 가용성 99.9%               |
| `NFR-A-002` | 장애 시 RTO ≤ 30분, RPO ≤ 5분 |

-

### 4.3 보안

| ID          | Contents                          |
| ----------- | --------------------------------- |
| `NFR-S-001` | TLS1.2+, AES-256 암호화           |
| `NFR-S-002` | RBAC(관리자/사용자 권한 분리)     |
| `NFR-S-003` | 감사 로그 180일 보관              |
| `NFR-S-004` | 데이터 주체 요청(DSR) 이행 ≤ 15일 |

### 4.4 확장성

| ID          | Contents                             |
| ----------- | ------------------------------------ |
| `NFR-X-001` | 기능 토글(Feature Flag) 지원         |
| `NFR-X-002` | 사용자 10배 증가 시 스케일 아웃 대응 |
| `NFR-X-003` | OpenAPI 자동 생성/검증 포함          |

### 4.5 사용성

| ID          | Contents                    |
| ----------- | --------------------------- |
| `NFR-U-001` | 모바일 주요 플로우 3탭 이내 |
| `NFR-U-002` | WCAG 2.1 AA 접근성 준수     |
| `NFR-U-003` | 다국어(i18n, ko/en) 지원    |

---

## 5. 시스템 인터페이스 (External Interfaces)

- Google Calendar/Tasks API (OAuth2)
- OpenAI/Gemini API (LLM, RAG 모듈)
- Supabase (Auth, DB, Storage)
- Notion API (읽기 우선, 추후 양방향)
- FCM/APNs (푸시)
- iOS/Android 음성 API

---

## 6. 데이터 요구사항 (Data Requirements)

### 6.1 수집 범위

- **필수:** User, Schedule, Quest, Bridge, Notification
- **선택(동의):** 위치, 수면 이벤트, 앱 사용, 결제 메타

### 6.2 엔터티 초안

- User(id, email, locale, created_at, …)
- Consent(user_id, purpose, scope, granted_at)
- Schedule(id, user_id, start, end, title, source, status)
- Quest(id, schedule_id, focus_minutes, tags, outcome)
- ActivityLog(id, user_id, type, payload, ts)
- BridgeEntry(id, user_id, date, qna, score, insights)
- Notification(id, user_id, template_id, sent_at, status)

### 6.3 규제 고려

- GDPR/KISA 고려: 최소 수집, 철회 시 삭제/익명화, 국외 이전 시 고지

---

## 7. 유스케이스 (Use Cases)

### UC-01: 음성으로 수면 시작

- Actor: 사용자
- Trigger: “지금 잘 거야”
- Main Flow: 수면 기록 시작 → 상태 전환 → 다음날 질문 예약
- Alternate: 네트워크 불가 시 로컬 큐 후 동기화

### UC-02: 자연어 일정 생성

- Actor: 사용자
- Trigger: “내일 3~5시 팀 회의 잡아줘”
- Main Flow: NLU 파싱 → GCal 생성 → 충돌 시 대체 제안

### UC-03: 브리지 세션

- Actor: 사용자
- Trigger: 저녁 알림
- Main Flow: 질문 3~5개 → 응답 저장 → 다음날 추천 반영

---

## 8. 시스템 아키텍처 개요

- 모바일 앱 ↔ API 게이트웨이
- BFF + 스케줄러 + AI 서비스
- DB(Supabase) + 캐시/큐(Redis)
- 모니터링/로그 대시보드

---

## 9. 품질 보증 (Validation & QA)

- Acceptance Criteria:
  - UC-01~03 성공률 ≥ 95%
  - 캘린더 동기화 ≤ 5초
  - 브리지 세션 저장 성공률 ≥ 99%
  - 데이터 내보내기 ≤ 24시간

---

## 10. 리스크 & 오픈 이슈

- Google API rate limit 및 충돌 처리 정책
- LLM 비용 관리(토큰 제한, 캐싱)
- 모바일 이벤트(위치/수면) 배터리 소모 최적화
- Notion 스키마 다양성 대응
- 법무 검토: 개인정보 동의 UI

---

## 11. 추적성 매트릭스 (Traceability Matrix)

- UC-02 ↔ FR-M-001, FR-M-002 ↔ TC-API-CreateEvent-\* ↔ scheduler-service ↔ 모니터링(p95, 오류율)
